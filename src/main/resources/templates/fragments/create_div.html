<div th:fragment="create_div">
    <form th:object="${status}" th:action="@{/app/status}" method="post">
        <h5 class="pb-2 border-bottom">Subject</h5>
        <div class="row mb-3 mt-3">
            <div class="col-6">
                <div class="form-floating">
                    <input type="text" class="form-control" th:field="*{subjectFirstName}" id="firstname" placeholder="Your first name" required/>
                    <label class="form-label small" for="firstname">First Name</label>
                </div>
            </div>
            <div class="col-6">
                <div class="form-floating">
                    <input type="text" class="form-control" th:field="*{subjectLastName}" id="lastname" placeholder="Your last name" required/>
                    <label class="form-label small" for="lastname">Last Name</label>
                </div>
            </div>
        </div>
        <div class="row mb-3 mt-3">
            <div class="col-4">
                <div class="form-floating">
                    <input type="tel" class="form-control" th:field="*{subjectMobile}" id="subject-mobile" placeholder="Subject Mobile" required/>
                    <label class="form-label small" for="subject-mobile">Mobile</label>
                </div>
            </div>
            <div class="col-4">
                <div class="form-floating">
                    <input type="email" class="form-control" th:field="*{subjectEmail}" id="subject-email" placeholder="Subject Email" required/>
                    <label class="form-label small" for="subject-email">Email</label>
                </div>
            </div>
            <div class="col-4">
                <div class="form-floating">
                    <input type="text" class="form-control" th:field="*{subjectAddress}" id="subject-address" placeholder="Subject Address" required/>
                    <label class="form-label small" for="subject-address">Address</label>
                </div>
            </div>
        </div>
        <h5 class="pb-2 border-bottom">Main</h5>
        <div class="form-floating mb-3 mt-3">
            <input type="text" class="form-control" th:field="*{workTitle}" id="title" placeholder="Main title" required/>
            <label class="form-label small" for="title">Title</label>
        </div>
        <div class="form-floating mb-3 mt-3">
            <textarea class="form-control" id="description" rows="2" maxlength="100" th:field="*{workDescription}" placeholder="Description" required></textarea>
            <label class="form-label small" for="description">Description</label>
        </div>
        <div class="row mb-3 mt-3">
            <div class="col-4">
                <div class="form-floating">
                    <input type="text" class="form-control" th:field="*{workBy}" id="work-by" placeholder="Enter Work by" required/>
                    <label class="form-label small" for="work-by">Work by</label>
                </div>
            </div>
            <div class="col-4">
                <div class="form-floating">
                    <input type="text" class="form-control" th:field="*{workAssignedTo}" id="assigned-to" placeholder=" Enter Work assigning person" required/>
                    <label class="form-label small" for="assigned-to">Assigned to</label>
                </div>
            </div>
            <div class="col-4">
                <div class="form-floating">
                    <input type="text" class="form-control" th:field="*{workContact}" id="contact" placeholder="Enter contact" required/>
                    <label class="form-label small" for="contact">Contact</label>
                </div>
            </div>
        </div>
        <div class="row mb-3 mt-3">
            <div class="col-4">
                <div class="form-floating">
                    <input type="text" class="form-control" th:field="*{workLocation}" id="work-location" placeholder="Enter Work location" required/>
                    <label class="form-label small" for="work-location">Work Location</label>
                </div>
            </div>
           <div class="col-4">
                <div class="form-floating">
                    <input type="date" class="form-control" th:field="*{expectedWorkCompletionDate}" id="est-date" placeholder="Estimated Date of completion" required />
                    <label class="form-label small" for="est-date">Completion Date</label>
                </div>
           </div>
           <div class="col-4">
            <div class="form-floating">
                <input type="time" class="form-control" th:field="*{expectedWorkComletionTime}" id="birthdaytime" placeholder="Estimated Time of completion" required />
                <label class="form-label small" for="est-time">Completion Time</label>
            </div>
       </div>
        </div>
        <h5 class="pb-2 border-bottom">Progress <button type="button" id="addRow" class="btn btn-secondary btn-sm"
            hx-get="/app/fragments/component/progress-row" 
            hx-target="#last-row" 
            hx-swap="beforebegin"
            ><i class="fa-solid fa-plus"></i></button></h5>
        <table class="table table-sm table-borderless">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Progress</th>
                    <th scope="col">Note</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">Start</th>
                    <td>
                        <input type="text" th:field="*{progresses[0].progressName}" required class="form-control">
                    </td>
                    <td>
                        <input type="text" th:field="*{progresses[0].note}" required class="form-control">
                    </td>
                </tr>
                <tr id="last-row">
                    <th scope="row">End</th>
                    <td>
                        <input type="text" th:field="*{progresses[1].progressName}" required class="form-control">
                    </td>
                    <td>
                        <input type="text" th:field="*{progresses[1].note}" required class="form-control">
                    </td>
                </tr>
            </tbody>
        </table>
        <button type="submit" class="btn btn-success mt-3">Submit</button>
    </form>
</div>